version: 2
jobs:
  build:
    docker:
      - image: node:16.13.0
        auth:
          username: $DOCKERHUB_USR
          password: $DOCKERHUB_PWD
    steps:
      - checkout
      - run:
          name: Node Packages Download
          command: npm install
      - run:
          name: Project Build
          command: npm run build
      - run:
          name: Node CI Packages Download (No optionals)
          command: cd ./build && npm ci --production --no-optional
